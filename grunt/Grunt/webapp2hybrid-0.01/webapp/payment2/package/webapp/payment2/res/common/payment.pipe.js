define(["c","cWidgetFactory","PayModel","PayStore","cUtility","Util","Config"],function(e,t,n,r,i,s,o){var u=n.PaymentWayModel.getInstance(),a=n.PayMentModel.getInstance(),f=n.PayMentV3Model.getInstance(),l=n.GetValCode.getInstance(),c=n.UpdatePrePhoneModel.getInstance(),h=n.CashMessModel.getInstance(),p=n.cardBinQuery.getInstance(),d=n.getPhoneNumQuery.getInstance(),v=n.verifyPhoneCodeQuery.getInstance(),m=n.verifyPhoneNumQuery.getInstance(),g=n.verifyUnionPayStatusQuery.getInstance(),y=n.BankListModel.getInstance(),b=r.OrderDetailStore.getInstance(),w=n.TransAccoutInfoModel.getInstance(),E=n.VerifyPassword.getInstance(),S=r.ExtendInfoStore.getInstance(),x=n.ExceptionInfoCollect.getInstance(),T=s.getSystemVer(),N=t.create("Guider"),C={};return C.exec=function(e){var t=e.param,r=e.callback,i=e.errback,s=e.abtback,u=e.serCode,a=e.model,f=e.header;if(o.MOCK_SERVICE_CALL){if(!window.pay_data){function l(){for(var e in n)n[e].prototype.localData||(n[e].prototype.localData=window.pay_data[e])}o.IS_INAPP?_url="mockdata.js?ver=11":_url="Res/models/mockdata.js?ver=11";var c=document.createElement("script");document.getElementsByTagName("head")[0].appendChild(c),c.type="text/javascript",c.src=_url,c.onload=function(){l(),o.IS_INAPP?r.call(a,{resultBody:JSON.stringify(a.localData)}):r.call(a,a.localData)}}}else o.IS_INAPP?(t=JSON.stringify(t),N.pipe.socketRequest({callback:r,serviceCode:u,data:t,header:f})):(a.setParam(t),a.headinfo=JSON.parse(f),a.exec(r,i,!0,a,s||function(){console.log("service abort")}))},C.getpaymentway=function(e,t,n,r){e.subpay=e.subpay||0,e.ver=T.ver,e.plat=T.platform,this.exec({model:u,param:e,callback:t,errback:r,header:n,serCode:"31000101"})},C.pay=function(e,t,n,r,i){e=s.getPublicParams(e),b.setAttr("realpaytype",e.paytype);try{if(typeof e.oinfo.oamount=="undefined"||!e.oinfo.oamount){var o=[];o.push("支付方式为："+e.paytype),o.push("ordetail："+localStorage.ORDER_DETAIL),o.push("BU_EXTEND_INFO："+localStorage.BU_EXTEND_INFO);var u={bustype:e.bustype,excode:1,extype:1,exdesc:"301请求BU金额为0,"};u.exdesc+=o.join();var f=function(){},l=function(){};C.exceptionInfoCollect(u,l,n,f,f)}}catch(c){}this.exec({model:a,param:e,callback:t,errback:r,header:n,serCode:"31000301"})},C.payV3=function(e,t,n,r,i){e=s.getPublicParams(e),b.setAttr("realpaytype",e.paytype);try{if(typeof e.oinfo.oamount=="undefined"||!e.oinfo.oamount){var o=[];o.push("支付方式为："+e.paytype),o.push("ordetail："+localStorage.ORDER_DETAIL),o.push("BU_EXTEND_INFO："+localStorage.BU_EXTEND_INFO);var u={bustype:e.bustype,excode:"",extype:1,exdesc:"303请求BU金额为0,"};u.exdesc+=o.join();var a=function(){},l=function(){};C.exceptionInfoCollect(u,l,n,a,a)}}catch(c){}this.exec({model:f,param:e,callback:t,errback:r,header:n,serCode:"31000303"})},C.thirdPay=function(e,t,n,r){e.ver=T.ver,e.plat=T.platform,this.exec({model:PayMentModel4ThirdPaySig,param:e,callback:t,errback:r,header:n,serCode:"31001002"})},C.getValCode=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:l,param:e,callback:t,errback:r,header:n,serCode:"31000401"})},C.getCashMess=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:h,param:e,callback:t,errback:r,header:n,serCode:"31001101"})},C.transAccoutInfo=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:w,param:e,callback:t,errback:r,header:n,serCode:"95004801"})},C.verifyPassword=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:E,param:e,callback:t,errback:r,header:n,serCode:"90200401"})},C.updateprephone=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:c,param:e,callback:t,errback:r,header:n,serCode:"31000501"})},C.verifyCardBin=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:p,param:e,callback:t,errback:r,header:n,serCode:"31001301"})},C.exceptionInfoCollect=function(e,t,n,r,s){e.svr=T.ver,e.plat=T.platform,i.isInApp()?e.exdesc+=",机器信息为："+localStorage.DEVICEINFO:e.exdesc+=",浏览器头部信息为："+navigator.userAgent,this.exec({model:x,param:e,callback:t,errback:r,header:n,serCode:"31001401"})},C.getPhoneNum=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:d,param:e,callback:t,errback:r,header:n,serCode:"31001501"})},C.verifyPhoneCode=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:v,param:e,callback:t,errback:r,header:n,serCode:"31001601"})},C.verifyPhoneNum=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:m,param:e,callback:t,errback:r,header:n,serCode:"31001701"})},C.verifyUnionPayStatus=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:g,param:e,callback:t,errback:r,header:n,serCode:"31001801"})},C.getBanklist=function(e,t,n,r,i){e.ver=T.ver,e.plat=T.platform,this.exec({model:y,param:e,callback:t,errback:r,header:n,serCode:"32009507"})},C.getRiskCtrl=function(){var e=0;return S&&S.get()&&(e=S.get().IsNeedCardRisk?1:0),e},C})