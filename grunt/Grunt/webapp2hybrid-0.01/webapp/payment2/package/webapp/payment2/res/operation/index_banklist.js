define(["c","PayStore","Util","bankincrement","Business"],function(e,t,n,r,i){var s=t.PayMentCardParamStore.getInstance(),o=t.OrderDetailStore.getInstance(),u=t.BankListStore.getInstance(),a={};return a.repalceCardType=function(t){var n=[],r=this;u&&u.get&&!u.get()&&Bankincrement.intBankCrement();try{var s=u.get().origindatas||[];t=t||[];for(var a=0;a<t.length;a++){var f=t[a];for(var l=0;l<s.length;l++){var h=_.find(s[l].subDatas||[],function(e){return e.itembCode==f.typeid});if(h){f.typename=s[l].name,n.push(f);break}}}return n}catch(p){u.remove();var d=new e.ui.Alert({title:"提示信息",message:"系统异常，请重新提交订单(500)",buttons:[{text:"确定",click:function(){this.hide();var e=o.getAttr("from");cUtility.isInApp()?i.jump2App(e):window.location.href=e},type:e.ui.Alert.STYLE_CONFIRM}]});d.show(),r.alertArr.push(d);try{var v=o.get();i.exceptionInfoCollect({bustype:v.bustype,excode:3,extype:1,exdesc:"银行增量数据ErrorCode:500_token:"+JSON.stringify(v)})}catch(p){}}},a.getBankCardType=function(t){var n=this;u&&u.get&&!u.get()&&Bankincrement.intBankCrement();try{var r=u.get().origindatas||[],s="",t,a=["","CCD","CCY","DC"];for(var f=0;f<r.length;f++){s=_.find(r[f].subDatas,function(e){return e.itemName==a[t.category]});if(t.typeid==Number(s.itembCode))return r[f]}}catch(l){u.remove();var h=new e.ui.Alert({title:"提示信息",message:"系统异常，请重新提交订单(503)",buttons:[{text:"确定",click:function(){this.hide();var e=o.getAttr("from");cUtility.isInApp()?i.jump2App(e):window.location.href=e},type:e.ui.Alert.STYLE_CONFIRM}]});h.show(),n.alertArr.push(h);try{var p=o.get();i.exceptionInfoCollect({bustype:p.bustype,excode:3,extype:1,exdesc:"银行增量数据ErrorCode:503_token:"+JSON.stringify(p)})}catch(l){}}},a})