define(["libs","c","CommonStore","PayStore","PayModel","cBasePageView","alipayresult_html","cUtility","cWidgetFactory","paymentPipe","cUIInputClear","cUtilityCrypt","cUICore"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=r.OrderDetailStore.getInstance(),d=s.extend({pageid:"215373",tpl:o,onHide:function(){},onCreate:function(){},onShow:function(){},onLoad:function(){var e=p.get(),t=self.request.query.result||"",n="index.html"+e.sback.match("#.*")[0],r="index.html"+e.pback.match("#.*")[0],i={},s="",o=this.matchModuleFn(e.sback.split("#")[0]);t=="success"?(i={orderID:e.oid,externalNo:e.extno,billNo:e.bilno,payType:e.payType,busType:e.busType,price:e.totalamount},u.isInApp()?(s=this.bulidUrl(n,i),Guider.cross({path:o,param:n+s})):(s=this.bulidUrl(e.sback,i),location.href=e.sback+s)):(i={orderID:e.oid,externalNo:e.extno,billNo:e.bilno,busType:e.busType,price:e.totalamount,ErrorCode:e.ErrorCode||"",ErrorMessage:e.ErrorMessage||""},u.isInApp()?(s=this.bulidUrl(r,i),Guider.cross({path:o,param:r+s})):(s=this.bulidUrl(e.pback,i),location.href=e.pback+s))},bulidUrl:function(e,t){var n="",r="";/\?/.test(e)?n="&":n="?",r+=n;for(var i in t)r+=(i+"="+t[i]).concat("&");return r=r.substring(0,r.length-1),r},matchModuleFn:function(e){var t="",n=[],r="";return/webapp.+[^\/]/gi.test(e)&&(r=e.match(/webapp.+[^\/]/gi)[0],n=r.split("/"),n.length>1&&(t=n[1])),t}});return d})