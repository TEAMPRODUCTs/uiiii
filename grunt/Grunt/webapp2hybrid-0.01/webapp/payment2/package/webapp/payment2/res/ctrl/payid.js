define(["libs","c","CommonStore","PayStore","PayModel","PayParentView","payid_html","cUtility","cWidgetFactory","Business"],function(e,t,n,r,i,s,o,u,a,f){var l=null,c=r.SelectIdStore.getInstance(),h=s.extend({pageid:"",sourAddress:"",tpl:o,onHide:function(){this.hideLoading(),l=null},onCreate:function(){this.render()},onShow:function(){this.setTitle("选择证件"),this.pageid=u.isInApp()?"215416":"214416",$("#js_idlist>dd").removeClass("ok_crt");var e=c.get()?c.get().idname:"身份证",t=_.find($("#js_idlist>dd"),function(t){return $(t).text()==e});t&&$(t).addClass("ok_crt")},onLoad:function(){var e=this;this.updatePage();try{e.turning()}catch(t){}c.setAttr("changcard",0)},render:function(){this.$el.html(this.tpl),this.els={creditCards:this.$el.find("#creditCardList"),dpstCards:this.$el.find("#dpstCardList"),cardList:this.$el.find("#cardList")},this.sourAddress=="dpstcard"?this.els.cardList.html(this.els.dpstCards.html()):this.els.cardList.html(this.els.creditCards.html())},events:{"click #js_return":"backAction","click #js_idlist>dd":"chooseID"},updatePage:function(){this.turning();var e=this;e.headerview.set({title:"证件类型",home:!1,back:!0,view:e,events:{returnHandler:$.proxy(function(){this.backAction()},this),homeHandler:$.proxy(function(){this.jump("/html5/")},this)}}),this.headerview.show(),this.hideLoading()},chooseID:function(e){var t=$(e.target).text(),n=c.getAttr("idname")||"身份证",r=parseInt($(e.target).data("value"));c.setAttr("idname",t),c.setAttr("dcard",r),n==c.getAttr("idname")?c.setAttr("changcard",0):c.setAttr("changcard",1),this.backAction()},backAction:function(){var e=this.getQuery("from")||"";e.indexOf("index")>=0?f.goHome.call(this):(e=decodeURIComponent(e),this.back(e))}});return h})