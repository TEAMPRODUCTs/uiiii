<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" media="screen" href="http://handsontable.com/dist/handsontable.full.css">
   <!-- <script src="http://handsontable.com/dist/handsontable.full.js"></script>-->
     <script src="res/libs/handsontable.js" type="text/javascript"></script>
<body>
<div id="example"></div>
<div class="pagination">
    <a href="#1">1</a>
    <a href="#2">2</a>
    <a href="#3">3</a>
    <a href="#4">4</a>
    <a href="#5">5</a>
    <a href="#6">6</a>
    <a href="#7">7</a>
    <a href="#8">8</a>
</div>
</body>
<script type="text/javascript" src="res/libs/jquery.js"></script>
<script type="text/javascript">
    var getData = (function () {
        var data = [
            [1,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],
            [1,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],//#1
            [2,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],//#2
            [3,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],
            [1,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],//#3
            [4,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],//#4
            [5,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],
            [1,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],//#5
            [6,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],//#6
            [7,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],
            [1,2,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],//#7
            [8,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,7,8,9,0],[0,0,0,0,0,0,0,0,0,0]//#8
        ];

        return function () {
            var page  = parseInt(window.location.hash.replace('#', ''), 10) || 1,
                limit = 6,
                row   = (page - 1) * limit,
                count = page * limit,
                part  = [];

            for (;row < count;row++) {
                part.push(data[row]);
            }

            return part;
        }
    })();

    var container = document.getElementById('example'),
        hot;

    hot = new Handsontable(container, {
        data: getData(),
       // columnSorting:true,
        manualColumnMove: true,//拖拉行列
        manualRowMove: true,//拖拉行列
        colHeaders: true,
         beforeRender: function() {
                        console.log("beforeRender")
                       $('#header-grouping').remove();
                     /*   var elem = $('table.htCore thead, table.htBlockedRows thead');
                        if(elem.find('tr').length > 1)
                            $(elem.find('tr')[0]).remove(); //remove already existing header*/
                    },
        afterRender: function () {
                    //add extra header manually
                  /*  $('table.htCore thead, table.htBlockedRows thead').prepend('<tr><th colspan=1>.</th><th colspan=5> Group 1</th><th colspan=3> Group 2</th></tr>');*/
                    console.log("afterRender");
                    var newHeaderRow = '<th colspan=1>.</th><th colspan=5> Group 1</th><th colspan=3> Group 2</th></tr><tr><th colspan=1>A1</th><th > A2</th><th > A4</th><th colspan=1>A1</th><th > A2</th><th > A4</th><th colspan=1>A1</th><th > A2</th><th > A4</th>'
                     window.setTimeout(function() {
                         $('table.htCore').find('thead').find('tr').before('<tr class="header-grouping">' + newHeaderRow + '</tr>');
              }, 0);
            }
    });


    Handsontable.Dom.addEvent(window, 'hashchange', function (event) {
        hot.loadData(getData());
    });
</script>
</html>