define(["libs","c","cBasePageView","text!templates/index.html","cWidgetFactory","cWidgetGeolocation","GolfStore","GolfModel","res/scripts/widget/c.ui.imageSlider","cWidgetGuider"],function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=e.create("Guider"),n=b.utility.isInApp(),o=c.extend({pageid:"275001",hpageid:"276001",render:function(){this.$el.html(d)},onCreate:function(){this.injectHeaderView(),this.render()},events:{"click .golf_tab":"goToGolfLst","click .golf_product a":"goToDetail"},onLoad:function(){var a=this;l=[{name:"name1",imgUrls:[{key:"s500*280",value:"http://webresource.c-ctrip.com/ResFunOnline/R3/mobile_image/banner1.png",onClick:function(){a.goToDetailById(1652269)}}]},{name:"name2",imgUrls:[{key:"s500*280",value:"http://webresource.c-ctrip.com/ResFunOnline/R3/mobile_image/banner2.png",onClick:function(){a.goToDetailById(1789418)}}]},{name:"name3",imgUrls:[{key:"s500*280",value:"http://webresource.c-ctrip.com/ResFunOnline/R3/mobile_image/banner3.png",onClick:function(){a.goToDetailById(1757584)}}]}],this.slide(),this.turning()},showToast:function(a,c){c||(c=function(){}),this.toast||(this.toast=new b.ui.Toast),this.toast.show(a,2,c,!0)},goToLst:function(a){n?m.cross({path:"golf",param:"index.html#golf.list?prdcategory="+a+"&from=/webapp/golf/index.html"}):this.forward("golf.list?prdcategory="+a+"&from=/webapp/golf/index.html")},goToGolfLst:function(){var a=$(event.target).closest(".golf_tab").data("name");switch(0,a){case"booking":IWanUtil.app_goto_booking();break;case"package":this.goToLst(1);break;case"travel":this.goToLst(2);break;default:IWanUtil.app_goto_booking()}},goToDetailById:function(a){var b="productid="+a+"&salecityid=2&departcityid=2&from=/webapp/golf/index.html",c="http://m.ctrip.com/";n?m.cross({path:"tour",param:"index.html#detail?"+b}):window.location.href=c+"webapp/tour/index.html#detail?"+b},goToDetail:function(){var a=$(event.target).closest("a").data("id");this.goToDetailById(a)},onShow:function(){},onHide:function(){},Locating:function(){k=GeoLocationStore.get()||{},k.startLocating=1,GeoLocationStore.set(k),j=e.create("Geolocation")},slide:function(){var a=[],b=[],c=this.$el.find("#js_detail_pic_slide");if(_.each(l,function(a,c){b.push(l[c].imgUrls[0].value)}),_.each(b,function(b,c){a.push({title:l[c].imgName,src:b,link:"",onClick:l[c].imgUrls[0].onClick})}),!d){var d=new i({container:c,images:a,autoPlay:!0,loop:!0,imageSize:{width:500,height:280},defaultImageUrl:"http://pic.c-ctrip.com/vacation_v2/h5/group_travel/pic_none.png"});d.play()}}});return o});