<!DOCTYPE html>
<html>
<head>
    <title>爱玩高尔夫</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="description" content="爱玩高尔夫" />
    <meta name="keywords" content="爱玩高尔夫" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="apple-touch-startup-image" href="http://res.m.ctrip.com/html5/content/images/640.png?v=1.0" sizes="320x460">
    <link rel="apple-touch-startup-image" href="http://res.m.ctrip.com/html5/content/images/940.png?v=1.0" sizes="640x920">
    <link rel="apple-touch-startup-image" href="http://res.m.ctrip.com/html5/content/images/1004.png?v=1.0" sizes="768x1004">
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://res.m.ctrip.com/html5/Content/images/57.png?v=1.0?v=1.0" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://res.m.ctrip.com/html5/Content/images/72.png?v=1.0?v=1.0" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://res.m.ctrip.com/html5/Content/images/114.png?v=1.0?v=1.0" />
    <link rel="stylesheet" type="text/css" href="http://webresource.c-ctrip.com/styles/h5/common/main.css" />
    <link rel="stylesheet" type="text/css" href="./res/style/fun.css">
    <link rel="stylesheet"  type="text/css" href="./res/style/leaderboard.summary.css"/>
    <link rel="stylesheet" type="text/css" href="./res/style/leaderboard.css"/>
    <link rel="stylesheet" type="text/css" href="./res/style/leaderboard.award.css"/>
</head>
<body class="gray" onselectstart="return false">
<div id="main"></div>
<input type="hidden" id="page_id" value="wait" />
<input type='hidden' id="bf_ubt_orderid" value="" />
<script>
    window.GOLF_VER = '201406';
</script>
<!-- <script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/3rdlibs/require.min.js"></script> -->
<!-- <script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/3rdlibs/libs.js"></script> -->
<!-- <script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/common.js"></script>
 --><!--<script type="text/javascript" src="../../bak/webapp/app/common.js"></script>-->
<!-- <script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/3rdlibs/bridge.js"></script> -->

<!--<script type="text/javascript" src="./res/libs/libs.js"></script>-->


<script type="text/javascript" src="http://www.css88.com/doc/underscore1.8.2/underscore.js"></script>
<script type="text/javascript" src="./res/libs/backbone.js"></script>
<script type="text/javascript" src="./res/libs/zepto.js"></script>
<script type="text/javascript" src="http://requirejs.org/docs/release/2.1.18/minified/require.js"></script> <!--放最后面-->
<!--<script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/3rdlibs/libs.js"></script>
<script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/common.js"></script>-->
<!--<script type="text/javascript" src="common.js"></script>-->
<script type="text/javascript" src="./res/libs/golfBridge.js"></script>
<script type="text/javascript">
    document.write('<script type="text/javascript" src="./main.js?ver=' + GOLF_VER + '"><\/script>');

    var parseQueryString = function( url ){
        var reg_url =/^[^\?]+\?([\w\W]+)$/,
            reg_para=/([^&=]+)=([\w\W]*?)(&|$)/g, //g is very important
            arr_url = reg_url.exec( url ),
            ret        = {};
        if( arr_url && arr_url[1] ){
            var str_para = arr_url[1],result;
            while((result = reg_para.exec(str_para)) != null){
                ret[result[1]] = result[2];
            }
        }
        return ret;
    }



    function buildUrl(e) {
        this.viewRootPath = 'views/';
        this.viewMapping = {};
        var t = this.viewMapping[e];
        return t ? t : this.viewRootPath + e
    }

    function loadView (e, t) {
        var n = this;
        requirejs([this.buildUrl(e)], function(e) {
            t && t.call(n, e)
        })
    }

    Zepto(function ($) {
   //http://sun80264629.iteye.com/blog/1883204

    var AppRouter = Backbone.Router.extend({  
        initialize: function(options){
            this.route('topic/:pageno/:pagesize', 'main' , function(pageno, pagesize){
                loadView("golf.recommend.test");
                console.log(pageno + " " + pagesize);
            });
        },

        execute: function(callback, args, name) {
            /*if (!loggedIn) {
              goToLogin();
              return false;
            }*/
            args.push(parseQueryString(args.pop()));
            if (callback) callback.apply(this, args);
        },

        routes : {  
            '' : 'main',  
            'topic' : 'renderList',  
            'topic/:id' : 'renderDetail',  
            '*error' : 'renderError'  
        },  
        main : function() {  
            console.log('应用入口方法');  
        },  
        renderList : function() {  
            console.log('渲染列表方法');  
        },  
        renderDetail : function(id) {  
            console.log('渲染详情方法, id为: ' + id);  
        },  
        renderError : function(error) {  
            console.log('URL错误, 错误信息: ' + error);  
        } 
    });  

         var app_router = new AppRouter;
 
        Backbone.history.start();
     });

</script>
<!-- <script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/3rdlibs/include.ubt.js"></script> -->

<!--
<script type="text/javascript" src="./res/libs/include.ubt.js"></script>-->
</body>
</html>